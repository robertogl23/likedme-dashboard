(this["webpackJsonplikedme-admin"]=this["webpackJsonplikedme-admin"]||[]).push([[0],{73:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(24),c=a.n(l),o=(a(78),a(35)),u=a(11),i=a(6),s=a(28),m=a(92),d=a(93),p=a(63),E=a(103),f=a(99),b=a(94),h=a(64),v=a(7),y=a.n(v),g=a(14),O="https://likeme-backend.herokuapp.com/api/v1",j={"Content-Type":"application/json"};function S(e,t){return P.apply(this,arguments)}function P(){return(P=Object(g.a)(y.a.mark((function e(t,a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/").concat(a),{method:"POST",headers:j,body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function k(){return(k=Object(g.a)(y.a.mark((function e(t,a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/").concat(a),{method:"PUT",headers:j,body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function C(e){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function I(){return(I=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(O,"/").concat(t),{method:"DELETE"});case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function x(){var e=Object(s.a)(),t=e.register,a=e.handleSubmit,r=n.a.useState(!1),l=Object(i.a)(r,2),c=l[0],o=l[1],v=n.a.useState(!1),y=Object(i.a)(v,2),g=y[0],O=y[1],j=Object(u.f)();return n.a.useEffect((function(){sessionStorage.removeItem("id")}),[]),n.a.createElement(m.a,{style:{marginTop:60}},n.a.createElement(d.a,null,n.a.createElement(p.a,null,n.a.createElement(E.a,null,n.a.createElement(E.a.Header,{as:"h5"},"LikedMe Admin"),n.a.createElement(E.a.Body,null,n.a.createElement(E.a.Title,null,"Login"),n.a.createElement(f.a,null,n.a.createElement(f.a.Group,{controlId:"formBasicEmail"},n.a.createElement(f.a.Label,null,"Admin enrollment "),n.a.createElement(f.a.Control,{type:"text",placeholder:"Enrollment",name:"enrollment",ref:t})),n.a.createElement(f.a.Group,{controlId:"formBasicPassword"},n.a.createElement(f.a.Label,null,"Password"),n.a.createElement(f.a.Control,{type:"password",placeholder:"Password",name:"password",ref:t}))),g&&n.a.createElement(b.a,{variant:"danger",onClose:function(){return O(!1)},dismissible:!0},n.a.createElement(b.a.Heading,null,"Oh ah corrido un error!"),n.a.createElement("p",null,"Porfavor verifique sus datos y vueva a inicia sesion.")),n.a.createElement(h.a,{type:"submit",variant:"primary",disabled:c,onClick:a((function(e){o(!0),S(e,"login/admin").then((function(e){if(o(!1),!e.status)return O(!0);sessionStorage.setItem("id",JSON.stringify(e.adminDB)),j.push("/dashboard")}))}))},c?"Verificando...":"Iniciar Sesion"))))))}var G=a(101),L=a(102),N=a(100);function T(){var e=Object(r.useState)(JSON.parse(sessionStorage.getItem("id"))),t=Object(i.a)(e,2),a=t[0],l=(t[1],Object(u.f)());return n.a.createElement(G.a,{bg:"dark",expand:"lg",variant:"dark"},n.a.createElement(G.a.Brand,{href:"#home"},"LikedMe"),n.a.createElement(G.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(G.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(L.a,{className:"mr-auto"},n.a.createElement(N.a,{title:a.firtsName,id:"basic-nav-dropdown"},n.a.createElement(N.a.Item,null,"Perfil"),n.a.createElement(N.a.Item,{onClick:function(){sessionStorage.removeItem("id"),l.push("/")}},"Cerrar Sesion")))))}function q(e){var t=e.product,a=e.requestProduct,r=Object(s.a)(),l=r.register,c=r.handleSubmit,o=n.a.useState(!1),u=Object(i.a)(o,2),m=u[0],d=u[1],E=n.a.useState(!1),v=Object(i.a)(E,2),y=v[0],g=v[1],O=n.a.useState(!1),j=Object(i.a)(O,2),S=j[0],P=j[1];return n.a.createElement(f.a,null,S&&(y?n.a.createElement(b.a,{variant:"danger"},"Ha cocurrido un error,Por favor verifique sus datos que este correctos"):n.a.createElement(b.a,{variant:"success"},"El producto de a editado cerrectamente!")),n.a.createElement(f.a.Row,null,n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"ID Producto"),n.a.createElement(f.a.Control,{defaultValue:t._id,type:"text",placeholder:"ID Producto",name:"_id",ref:l}))),n.a.createElement(f.a.Row,null,n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"Nombre Producto"),n.a.createElement(f.a.Control,{defaultValue:t.nameProduct,type:"text",placeholder:"Nombre Producto",name:"name",ref:l})),n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"Nombre Producto"),n.a.createElement(f.a.Control,{defaultValue:t.type,type:"text",placeholder:"Nombre Producto",name:"type",ref:l}))),n.a.createElement(f.a.Row,null,n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridCity"},n.a.createElement(f.a.Label,null,"Precio"),n.a.createElement(f.a.Control,{type:"number",placeholder:"Precio",defaultValue:t.price,name:"price",ref:l})),n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridCity"},n.a.createElement(f.a.Label,null,"Cantidad"),n.a.createElement(f.a.Control,{type:"number",placeholder:"Cantidad",defaultValue:t.quantity,name:"quantity",ref:l}))),n.a.createElement(f.a.Group,{controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"Nombre Producto"),n.a.createElement(f.a.Control,{defaultValue:t.available,type:"text",placeholder:"Nombre Producto",name:"available",ref:l})),n.a.createElement(h.a,{type:"submit",variant:"primary",disabled:m,onClick:c((function(e){var t={quantity:parseInt(e.quantity),type:e.type,price:parseInt(e.price),name:e.name,available:e.available};d(!0),function(e,t){return k.apply(this,arguments)}(t,"update/product/".concat(e._id)).then((function(e){if(d(!1),console.log(e),!e.status)return P(!0),g(!0);P(!0),g(!1),a(),setTimeout((function(){P(!1)}),3e3)}))}))},m?"Verificando...":"Iniciar Sesion"))}function D(e){var t=e.requestProduct,a=Object(s.a)(),r=a.register,l=a.handleSubmit,c=n.a.useState(!1),o=Object(i.a)(c,2),u=o[0],m=o[1],d=n.a.useState(!1),E=Object(i.a)(d,2),v=E[0],y=E[1],g=n.a.useState(!1),O=Object(i.a)(g,2),j=O[0],P=O[1];return n.a.createElement(f.a,null,v&&(j?n.a.createElement(b.a,{variant:"danger"},"No se a podido crear el producto, Por favor verifique los datos"):n.a.createElement(b.a,{variant:"success"},"El producto se a creado cerrectamente!")),n.a.createElement(f.a.Row,null,n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"Nombre Producto"),n.a.createElement(f.a.Control,{type:"text",placeholder:"Nombre Producto",name:"name",ref:r})),n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"Tipo de Producto"),n.a.createElement(f.a.Control,{type:"text",placeholder:"Tipo Producto",name:"type",ref:r}))),n.a.createElement(f.a.Row,null,n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridCity"},n.a.createElement(f.a.Label,null,"Precio"),n.a.createElement(f.a.Control,{type:"number",placeholder:"Precio",name:"price",ref:r})),n.a.createElement(f.a.Group,{as:p.a,controlId:"formGridCity"},n.a.createElement(f.a.Label,null,"Cantidad"),n.a.createElement(f.a.Control,{type:"number",placeholder:"Cantidad",name:"quantity",ref:r}))),n.a.createElement(f.a.Group,{controlId:"formGridEmail"},n.a.createElement(f.a.Label,null,"Disponible"),n.a.createElement(f.a.Control,{type:"text",placeholder:"Nombre Producto",name:"available",ref:r})),n.a.createElement(h.a,{type:"submit",variant:"primary",disabled:u,onClick:l((function(e){S(e,"add/product").then((function(e){if(m(!1),!e.status)return P(!0),y(!0);t(),P(!1),y(!0),setTimeout((function(){y(!1)}),3e3)}))}))},u?"Verificando...":"Iniciar Sesion"))}var B=a(98),V=a(95);function A(e){var t=e.products,a=e.requestProduct,l=Object(r.useState)(!1),c=Object(i.a)(l,2),o=c[0],u=c[1],m=Object(r.useState)(!1),E=Object(i.a)(m,2),v=E[0],y=E[1],g=Object(r.useState)([]),O=Object(i.a)(g,2),j=O[0],S=O[1],P=Object(r.useState)([]),k=Object(i.a)(P,2),w=k[0],x=k[1],G=Object(r.useState)(!1),L=Object(i.a)(G,2),N=L[0],T=L[1],A=Object(r.useState)(!1),J=Object(i.a)(A,2),F=J[0],R=J[1],H=n.a.useState(!1),M=Object(i.a)(H,2),_=M[0],U=M[1],W=function(){return T(!0)},Y=Object(s.a)(),z=Y.register,$=Y.handleSubmit,K=function(){C("get/all/products").then((function(e){e&&(a(),S(e.productsDB))}))},Q=function(e){y(!0),function(e){return I.apply(this,arguments)}("dalate/product/".concat(e)).then((function(e){if(!e)return U(!0),u(!0);K(),y(!1),u(!0),setTimeout((function(){u(!1)}),3e3)}))};return Object(r.useEffect)((function(){S(t)}),[]),n.a.createElement(n.a.Fragment,null,o&&(_?n.a.createElement(b.a,{variant:"danger"},"No se a podido borrar el producto, Por favor verifique los datos"):n.a.createElement(b.a,{variant:"success"},"El producto se a borrado cerrectamente!")),n.a.createElement(B.a,{show:N,onHide:function(){return T(!1)},backdrop:"static",keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(B.a.Header,{closeButton:!0},n.a.createElement(B.a.Title,null,F?"Agregar Producto":"Editar Producto")),n.a.createElement(B.a.Body,null,F?n.a.createElement(D,{requestProduct:K}):n.a.createElement(q,{product:w,requestProduct:K}))),n.a.createElement("div",null,n.a.createElement(d.a,null,n.a.createElement(p.a,null,n.a.createElement(h.a,{variant:"success",style:{marginBottom:15,marginLeft:16},onClick:function(){R(!0),W()}},"Agregar producto")),n.a.createElement(p.a,{style:{marginRight:16}},n.a.createElement(f.a.Control,{as:"select",name:"filter",onChange:$((function(e){return function(e){switch(e.filter){case"yt":S(t.filter((function(e){return"Youtube"===e.type})));break;case"fb":S(t.filter((function(e){return"Facebook"===e.type})));break;case"i":S(t.filter((function(e){return"Instagram"===e.type})));break;case"t":S(t.filter((function(e){return"Twitter"===e.type})));break;case"tt":S(t.filter((function(e){return"Tik-Tok"===e.type})));break;case"all":default:S(t)}}(e)})),ref:z},n.a.createElement("option",{value:"all"},"Default"),n.a.createElement("option",{value:"yt"},"Youtube"),n.a.createElement("option",{value:"fb"},"Facebook"),n.a.createElement("option",{value:"i"},"Instagram"),n.a.createElement("option",{value:"t"},"Twitter"),n.a.createElement("option",{value:"tt"},"Tik-Tok"))))),n.a.createElement(V.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Nombre producto"),n.a.createElement("th",null,"Tipo"),n.a.createElement("th",null,"Catidad"),n.a.createElement("th",null,"Precio"),n.a.createElement("th",null,"Disponible"),n.a.createElement("th",null,"Opciones"))),n.a.createElement("tbody",null,j.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.nameProduct),n.a.createElement("td",null,e.type),n.a.createElement("td",null,e.quantity),n.a.createElement("td",null,e.price," USD"),n.a.createElement("td",null,"Si"),n.a.createElement("td",null,n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{variant:"info",onClick:function(){R(!1),W(),function(e){x(e)}(e)}},"Editar")," ",n.a.createElement(h.a,{variant:"danger",disabled:v,onClick:function(){Q(e._id)}},v?"Eliminando...":"Eliminar")," ")))})))))}var J=a(96);function F(e){e.sessionID;var t=Object(r.useState)(JSON.parse(sessionStorage.getItem("id"))),a=Object(i.a)(t,2),l=a[0];a[1];return n.a.createElement(J.a,null,n.a.createElement("h1",null,"Dashboard, LikedMe!"),n.a.createElement("p",null,n.a.createElement("label",null,"Admin: "),l.firtsName,n.a.createElement("p",null,n.a.createElement("label",null,"Matricula: "),l.enrollment)),n.a.createElement("p",null,n.a.createElement(h.a,{variant:"primary"},"Perfl")))}var R=a(97);function H(){var e=Object(u.f)(),t=Object(r.useState)(sessionStorage.getItem("id")),a=Object(i.a)(t,1)[0],l=Object(r.useState)(!1),c=Object(i.a)(l,2),o=c[0],s=c[1],m=Object(r.useState)([]),d=Object(i.a)(m,2),p=d[0],E=d[1],f=function(){C("get/all/products").then((function(e){e&&(E(e.productsDB),s(!0))}))};return Object(r.useEffect)((function(){!a&&e.push("/"),f()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement(F,{adminDate:a}),o?p?n.a.createElement(n.a.Fragment,null,n.a.createElement(A,{products:p,requestProduct:f})):n.a.createElement("h",null,"Error"):n.a.createElement(R.a,{animation:"border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading...")))}var M=a(57),_=a(66),U=a(67),W=a(71),Y=a(69),z=Object(r.createContext)(),$=function(e){Object(W.a)(a,e);var t=Object(Y.a)(a);function a(){var e;Object(_.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={products:[],admin:[],isLoading:!1,error:!1},e.getProducts=function(){C("get/all/products").then((function(t){e.setState({isLoading:!1}),console.log(t)}))},e}return Object(U.a)(a,[{key:"render",value:function(){return n.a.createElement(z.Provider,{value:Object(M.a)(Object(M.a)({},this.state),{},{getProducts:this.getProducts})},this.props.children)}}]),a}(r.Component);var K=function(){return n.a.createElement($,null,n.a.createElement(o.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(u.c,null,n.a.createElement(u.a,{exact:!0,path:"/"},n.a.createElement(x,null)),n.a.createElement(u.a,{path:"/dashboard"},n.a.createElement(H,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.828ef522.chunk.js.map